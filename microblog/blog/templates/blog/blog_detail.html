{% extends "base.html" %}
{% load static %}
{% block body %}

{# {% %}　プログラム的な命令 #}
{# {{ }}　値の表示 #}
{# object==データが入っている変数、デフォルト値 #}
<div class="post-preview">
    <h3 class="post-title">
        {{object.content}}
    </h3>
    {% if object.photo %}
    <img src="{{ object.photo.url }}" class="img-responsive">
    {% endif %}
    <p class="post-meta">{{object.posted_date|date:"Y/m/d h:m:s"}}
        <a href="{% url 'like' object.id %}" class="btn-gradient-radius">{{ like_cnt }} いいね！</a>
        {% if user.is_authenticated and user.id == object.user.id%}
        <a href="{% url 'delete' object.id %}" class="pull-right">削除</a>
        <a href="{% url 'update' object.id %}" class="pull-right">編集 | </a>
        {% endif %}
    </p>
    <div class="form-group row">
        <div class="col-sm">
            <a href="{% url 'comment_create' object.pk %}" class="btn btn-info btn-block">コメントする</a>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm">
            <a href="{% url 'index' %}" class="btn btn-default btn-block">戻る</a>
        </div>
    </div>
    <hr>
    <h4 class="title is-5">コメント一覧</h4>
    {% for comment in comment_list %}
    <div class="post-preview">
        <div class="post-meta">

            {{ comment.content }}
            <br>
            <a href="{% url 'reply_create' comment.pk %}" class="btn">返信する</a>
            {% with reply_list=comment.comment_set.all %}
            {% include 'blog/includes/reply.html' %}
            {% endwith %}
        </div>

    </div>
</div>
{% endfor %}
{% endblock %}